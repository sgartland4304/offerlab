<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Button Demo – OfferLab</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Aktiv+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    .transition {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;
    transition-timing-function: cubic-bezier(.4, 0, .2, 1);
    transition-duration: .15s;
    }
    /* Approximate OfferLab elevated background and primary button */
    .main-container-padding { padding-left: 1rem; padding-right: 1rem; }
    @media (min-width: 1024px) { .main-container-padding { padding-left: 1.5rem; padding-right: 1.5rem; } }
    .bg-background-elevated { background-color: var(--background-elevated, #f5f5f4); }
    .bg-background { background-color: var(--background, #fff); }
    .button {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .button-large {
      height: 40px;
      padding: 10px 16px;
      border-radius: var(--rounded-lg, 10px);
      /* body/large semi */
      font-family: "Aktiv Grotesk";
      font-size: var(--size-base, 16px);
      font-style: normal;
      font-weight: 500;
      line-height: 150%; /* 24px */
      letter-spacing: var(--tracking-normal, 0);
    }
    .button-primary-dark {
      background: var(--content-primary, #342E26);
      color: var(--brand-primary-crisp, #F3F0E8);
      transition: background-color 0.15s, opacity 0.15s;
    }
    .button-primary-dark:hover { background-color: var(--content-primary-hover, #2a2620); }
    .button:active {
    --tw-scale-x: .99;
    --tw-scale-y: .99;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
    }
    .button-small { padding: 0.375rem 0.75rem; }

    .shadow-m {
    --tw-shadow: 0px 4px 24px rgba(0, 0, 0, .12);
    --tw-shadow-colored: 0px 4px 24px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
    }
    /* Create dropdown – OfferLab design system (Figma 2536-7131) */
    .create-dropdown summary {
      list-style: none;
      cursor: pointer;
    }
    .create-dropdown summary::-webkit-details-marker { display: none; }

    /* Popover: magicpath/Figma + Bloom-style scale reveal – single selector so animation always runs */
    .create-dropdown .create-dropdown-menu {
      display: flex !important;
      flex-direction: column;
      padding: 6px;
      gap: 0;
      border-radius: var(--rounded-2xl, 16px);
      background: var(--content-background-elevated, #FFF);
      width: 252px;
      top: calc(100% + 4px);
      left: 0;
      transform-origin: top left;
      opacity: 0;
      transform: scale(0.88);
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.24s cubic-bezier(0.34, 1.2, 0.64, 1), transform 0.24s cubic-bezier(0.34, 1.2, 0.64, 1), visibility 0.24s;
      z-index: 50;
    }
    .create-dropdown[open] .create-dropdown-menu {
      opacity: 1;
      transform: scale(1);
      visibility: visible;
      pointer-events: auto;
    }
    .create-dropdown .create-dropdown-content {
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    .create-dropdown-menu .create-menu-item {
      width: 100%;
      padding: 8px 10px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      outline: none;
      text-align: left;
      background: transparent;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      align-self: stretch;
      font-family: "Aktiv Grotesk", sans-serif;
      text-decoration: none;
      color: rgba(52, 46, 38, 1);
      box-sizing: border-box;
    }
    .create-dropdown-menu .create-menu-item:hover {
      background-color: rgba(247, 245, 240, 1);
    }
    .create-menu-item-left {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 8px;
    }
    .create-menu-item-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .create-menu-item-icon img {
      width: 20px;
      height: 20px;
      overflow: hidden;
    }
    .create-menu-item-label {
    /* body/default */
    font-family: "Aktiv Grotesk";
    font-size: var(--size-sm, 14px);
    font-style: normal;
    font-weight: 400;
    line-height: 150%; /* 21px */
    letter-spacing: var(--tracking-normal, 0);
    }
    .create-menu-item-shortcuts {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 4px;
    }
    .shortcut-key {
      width: 20px;
      min-width: 20px;
      height: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding-left: 4px;
      padding-right: 4px;
      box-sizing: border-box;
      border: 0.5px solid rgba(52, 46, 38, 0.12);
      border-radius: 4px;
      position: relative;
    }
    .shortcut-key span {
      color: rgba(52, 46, 38, 0.64);
      font-size: 12px;
      font-family: "Aktiv Grotesk", sans-serif;
      font-weight: 400;
      line-height: 18px;
      text-align: center;
    }
    .shortcut-then {
      width: 25px;
      color: rgba(52, 46, 38, 0.64);
      font-size: 12px;
      font-family: "Aktiv Grotesk", sans-serif;
      font-weight: 400;
      line-height: 18px;
      text-align: left;
    }

    /* Mobile bottom sheet */
    .create-sheet-backdrop {
      position: fixed;
      inset: 0;
      background: var(--content-background-modal-overlay, rgba(0, 0, 0, 0.20));
      /* backdrop-blur-2px */
      backdrop-filter: blur(2px);  -webkit-backdrop-filter: blur(2px);
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .create-sheet-backdrop.is-open {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }
    .create-sheet {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 9999;
      background: var(--content-background-elevated, #fff);
      border-radius: 16px 16px 0 0;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      transform: translateY(100%);
      transition: transform 0.35s cubic-bezier(0.32, 0.72, 0, 1);
      border-radius: var(--rounded-5xl, 32px) var(--rounded-5xl, 32px) 0 0;
      /* Shadow/modal */
      box-shadow: 0 8px 28px 0 rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(12px);    
}
    .create-sheet.is-open {
      transform: translateY(0);
    }
    .create-sheet-header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px 20px;
      flex-shrink: 0;
      height: 64px;
    }
    .create-sheet-title {
      color: var(--content-primary, #342E26);
      text-align: center;
      /* body/large bold */
      font-family: "Aktiv Grotesk", sans-serif;
      font-size: var(--size-base, 16px);
      font-style: normal;
      font-weight: 600;
      line-height: 150%; /* 24px */
      letter-spacing: var(--tracking-normal, 0);
    }
    .create-sheet-close {
      display: flex;
      width: 32px;
      height: 32px;
      justify-content: center;
      align-items: center;
      border-radius: var(--rounded-full, 99999px);
      background: var(--content-background-base, #F7F5F0FF);
      transition: background-color 0.2s ease;
      position: absolute;
      right: 20px;
    }
    .create-sheet-close:hover {
      background: rgba(52, 46, 38, 0.12);
    }
    .create-sheet-body {
      padding-bottom: 24px;
      overflow-y: auto;
    }
    .create-sheet-item {
      display: flex;
      align-items: center;
      display: flex;
      padding: 16px 20px;
      flex-direction: row;
      align-items: center;
      gap: 12px;
      border-radius: 0;
      width: 100%;
      text-align: left;
      background: transparent;
      cursor: pointer;
      color: var(--content-primary, #342E26);
      /* body/large semi */
      font-family: "Aktiv Grotesk";
      font-size: var(--size-base, 16px);
      font-style: normal;
      font-weight: 500;
      line-height: 150%; /* 24px */
      letter-spacing: var(--tracking-normal, 0);
      text-decoration: none;
      transition: background-color 0.2s ease;
    }
    .create-sheet-item:hover,
    .create-sheet-item:active {
      background: var(--content-background-base, #F7F5F0);
    }
    .create-sheet-item-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .create-sheet-item-icon img {
      width: 24px;
      height: 24px;
    }
  </style>
</head>
<body class="min-h-screen antialiased [text-rendering:optimizeLegibility]">
  <!-- Duplicated structure from OfferLab page (simplified) -->
  <div class="main-container-padding overflow-hidden lg:mr-[9px]">
    <div class="min-h-[calc(100dvh-3.75rem)] lg:rounded-lg flex lg:mt-4">
      <div class="relative flex flex-col flex-1 w-0 min-w-0 lg:rounded-xl">
        <main class="flex flex-col h-full outline-none">
          <div class="flex-1 max-lg:pb-[calc(4rem+env(safe-area-inset-bottom))]">
            <div class="flex flex-col h-full lg:py-2.5">
              <div id="main">
                <!-- Mobile header: Create button opens bottom sheet -->
                <header class="flex lg:hidden items-center justify-end p-4 bg-background-elevated flex-shrink-0 border-b border-black/5">
                  <button type="button" id="create-mobile-btn" class="button button-primary-dark button-large transition flex items-center gap-2 rounded-[var(--rounded-lg,10px)]" aria-haspopup="dialog" aria-expanded="false" aria-controls="create-sheet">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" style="width: 16px; height: 16px;">
                      <path d="M12 4V12M12 12V20M12 12H4M12 12H20" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                    </svg>
                    Create
                  </button>
                </header>
                <!-- Desktop header + Create dropdown (popover) -->
                <header class="hidden lg:flex rounded-t-xl flex-col gap-3 p-4 sm:flex-row sm:justify-between sm:items-center sm:gap-4 lg:px-6 lg:py-5 bg-background-elevated flex-shrink-0">
                  <nav class="flex gap-2 items-center flex-shrink-0">
                    <!-- Create dropdown – DaisyUI-style popover (Figma 2536-7131) -->
                    <details class="dropdown create-dropdown dropdown-bottom dropdown-end hidden lg:block relative">
                      <summary class="button button-primary-dark button-large transition flex items-center gap-2 cursor-pointer rounded-[var(--rounded-lg,10px)]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" style="width: 16px; height: 16px;">
                          <path d="M12 4V12M12 12V20M12 12H4M12 12H20" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                        </svg>
                        Create
                      </summary>
                      <ul class="menu shadow-m dropdown-content create-dropdown-content create-dropdown-menu absolute" role="menu" aria-label="Keyboard Shortcut Guide">
                        <li role="none">
                          <a href="#" class="create-menu-item" role="menuitem" data-create-action="bundle">
                            <span class="create-menu-item-left">
                              <span class="create-menu-item-icon">
                                <img src="assets/icon/bundle.svg" alt="" width="20" height="20">
                              </span>
                              <span class="create-menu-item-label">Create bundle</span>
                            </span>
                            <span class="create-menu-item-shortcuts">
                              <span class="shortcut-key"><span>C</span></span>
                              <span class="shortcut-then">then</span>
                              <span class="shortcut-key"><span>B</span></span>
                            </span>
                          </a>
                        </li>
                        <li role="none">
                          <a href="#" class="create-menu-item" role="menuitem" data-create-action="funnel">
                            <span class="create-menu-item-left">
                              <span class="create-menu-item-icon">
                                <img src="assets/icon/funnel.svg" alt="" width="20" height="20">
                              </span>
                              <span class="create-menu-item-label">Create funnel</span>
                            </span>
                            <span class="create-menu-item-shortcuts">
                              <span class="shortcut-key"><span>C</span></span>
                              <span class="shortcut-then">then</span>
                              <span class="shortcut-key"><span>F</span></span>
                            </span>
                          </a>
                        </li>
                        <li role="none">
                          <a href="#" class="create-menu-item" role="menuitem" data-create-action="offer">
                            <span class="create-menu-item-left">
                              <span class="create-menu-item-icon">
                                <img src="assets/icon/offer.svg" alt="" width="20" height="20">
                              </span>
                              <span class="create-menu-item-label">Create offer</span>
                            </span>
                            <span class="create-menu-item-shortcuts">
                              <span class="shortcut-key"><span>C</span></span>
                              <span class="shortcut-then">then</span>
                              <span class="shortcut-key"><span>O</span></span>
                            </span>
                          </a>
                        </li>
                      </ul>
                    </details>
                  </nav>
                </header>
                <!-- Placeholder content so the header has context -->
                <div class="p-6 bg-background lg:rounded-b-xl min-h-[400px]">
                  <p class="text-sm">This page duplicates the OfferLab header and the updated Create button with + icon for sharing.</p>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </div>

  <!-- Mobile bottom sheet -->
  <div id="create-sheet-backdrop" class="create-sheet-backdrop" aria-hidden="true"></div>
  <div id="create-sheet" class="create-sheet" role="dialog" aria-modal="true" aria-labelledby="create-sheet-title" aria-hidden="true">
    <div class="create-sheet-header">
      <h4 id="create-sheet-title" class="create-sheet-title">Create</h2>
      <button type="button" class="create-sheet-close" id="create-sheet-close" aria-label="Close">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m5 5 14 14m0-14L5 19"/>
        </svg>
      </button>
    </div>
    <div class="create-sheet-body">
      <a href="#" class="create-sheet-item" data-create-action="bundle">
        <span class="create-sheet-item-icon">
          <img src="assets/icon/bundle.svg" alt="" width="24" height="24">
        </span>
        Create bundle
      </a>
      <a href="#" class="create-sheet-item" data-create-action="funnel">
        <span class="create-sheet-item-icon">
          <img src="assets/icon/funnel.svg" alt="" width="24" height="24">
        </span>
        Create funnel
      </a>
      <a href="#" class="create-sheet-item" data-create-action="offer">
        <span class="create-sheet-item-icon">
          <img src="assets/icon/offer.svg" alt="" width="24" height="24">
        </span>
        Create offer
      </a>
    </div>
  </div>

  <script>
    document.addEventListener('keydown', function (e) {
      if (!e.metaKey && !e.ctrlKey) return;
      var key = e.key.toLowerCase();
      var action = (key === 'b' && 'bundle') || (key === 'f' && 'funnel') || (key === 'o' && 'offer');
      if (!action) return;
      var target = document.querySelector('.create-dropdown-menu a[data-create-action="' + action + '"]');
      if (target) {
        e.preventDefault();
        target.click();
      }
    });

    document.addEventListener('click', function (e) {
      var dropdown = document.querySelector('.create-dropdown');
      if (!dropdown || !dropdown.hasAttribute('open')) return;
      if (dropdown.contains(e.target)) return;
      dropdown.removeAttribute('open');
    });

    (function () {
      var mobileBtn = document.getElementById('create-mobile-btn');
      var backdrop = document.getElementById('create-sheet-backdrop');
      var sheet = document.getElementById('create-sheet');
      var closeBtn = document.getElementById('create-sheet-close');

      function openSheet() {
        backdrop.classList.add('is-open');
        sheet.classList.add('is-open');
        if (mobileBtn) mobileBtn.setAttribute('aria-expanded', 'true');
        if (backdrop) backdrop.setAttribute('aria-hidden', 'false');
        if (sheet) sheet.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }

      function closeSheet() {
        backdrop.classList.remove('is-open');
        sheet.classList.remove('is-open');
        if (mobileBtn) mobileBtn.setAttribute('aria-expanded', 'false');
        if (backdrop) backdrop.setAttribute('aria-hidden', 'true');
        if (sheet) sheet.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }

      if (mobileBtn) mobileBtn.addEventListener('click', openSheet);
      if (closeBtn) closeBtn.addEventListener('click', closeSheet);
      if (backdrop) backdrop.addEventListener('click', closeSheet);

      sheet.querySelectorAll('.create-sheet-item').forEach(function (el) {
        el.addEventListener('click', function () { closeSheet(); });
      });
    })();
  </script>
</body>
</html>
